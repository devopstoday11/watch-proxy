{"apiVersion":"apps/v1","data":{"spec":{"template":{"$patch":"replace","metadata":{"annotations":{"scheduler.alpha.kubernetes.io/critical-pod":""},"creationTimestamp":null,"labels":{"k8s-app":"calico-node"}},"spec":{"containers":[{"env":[{"name":"ETCD_ENDPOINTS","valueFrom":{"configMapKeyRef":{"key":"etcd_endpoints","name":"calico-config"}}},{"name":"CALICO_NETWORKING_BACKEND","valueFrom":{"configMapKeyRef":{"key":"calico_backend","name":"calico-config"}}},{"name":"CLUSTER_TYPE","value":"kubeadm,bgp"},{"name":"CALICO_DISABLE_FILE_LOGGING","value":"true"},{"name":"CALICO_K8S_NODE_REF","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"spec.nodeName"}}},{"name":"FELIX_DEFAULTENDPOINTTOHOSTACTION","value":"ACCEPT"},{"name":"CALICO_IPV4POOL_CIDR","value":"192.168.0.0/16"},{"name":"CALICO_IPV4POOL_IPIP","value":"Always"},{"name":"FELIX_IPV6SUPPORT","value":"false"},{"name":"FELIX_IPINIPMTU","value":"1440"},{"name":"FELIX_LOGSEVERITYSCREEN","value":"info"},{"name":"IP","value":"autodetect"},{"name":"FELIX_HEALTHENABLED","value":"true"}],"image":"quay.io/calico/node:master","imagePullPolicy":"IfNotPresent","livenessProbe":{"failureThreshold":6,"httpGet":{"path":"/liveness","port":9099,"scheme":"HTTP"},"initialDelaySeconds":10,"periodSeconds":10,"successThreshold":1,"timeoutSeconds":1},"name":"calico-node","readinessProbe":{"failureThreshold":3,"httpGet":{"path":"/readiness","port":9099,"scheme":"HTTP"},"periodSeconds":10,"successThreshold":1,"timeoutSeconds":1},"resources":{"requests":{"cpu":"250m"}},"securityContext":{"privileged":true},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","volumeMounts":[{"mountPath":"/lib/modules","name":"lib-modules","readOnly":true},{"mountPath":"/var/run/calico","name":"var-run-calico"}]},{"command":["/install-cni.sh"],"env":[{"name":"CNI_CONF_NAME","value":"10-calico.conflist"},{"name":"ETCD_ENDPOINTS","valueFrom":{"configMapKeyRef":{"key":"etcd_endpoints","name":"calico-config"}}},{"name":"CNI_NETWORK_CONFIG","valueFrom":{"configMapKeyRef":{"key":"cni_network_config","name":"calico-config"}}}],"image":"quay.io/calico/cni:master","imagePullPolicy":"IfNotPresent","name":"install-cni","resources":{},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","volumeMounts":[{"mountPath":"/host/opt/cni/bin","name":"cni-bin-dir"},{"mountPath":"/host/etc/cni/net.d","name":"cni-net-dir"}]}],"dnsPolicy":"ClusterFirst","hostNetwork":true,"restartPolicy":"Always","schedulerName":"default-scheduler","securityContext":{},"serviceAccount":"calico-cni-plugin","serviceAccountName":"calico-cni-plugin","terminationGracePeriodSeconds":0,"tolerations":[{"effect":"NoSchedule","operator":"Exists"},{"key":"CriticalAddonsOnly","operator":"Exists"},{"effect":"NoExecute","operator":"Exists"}],"volumes":[{"hostPath":{"path":"/lib/modules","type":""},"name":"lib-modules"},{"hostPath":{"path":"/var/run/calico","type":""},"name":"var-run-calico"},{"hostPath":{"path":"/opt/cni/bin","type":""},"name":"cni-bin-dir"},{"hostPath":{"path":"/etc/cni/net.d","type":""},"name":"cni-net-dir"}]}}}},"kind":"ControllerRevision","metadata":{"annotations":{"kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"extensions/v1beta1\",\"kind\":\"DaemonSet\",\"metadata\":{\"annotations\":{},\"labels\":{\"k8s-app\":\"calico-node\"},\"name\":\"calico-node\",\"namespace\":\"kube-system\"},\"spec\":{\"selector\":{\"matchLabels\":{\"k8s-app\":\"calico-node\"}},\"template\":{\"metadata\":{\"annotations\":{\"scheduler.alpha.kubernetes.io/critical-pod\":\"\"},\"labels\":{\"k8s-app\":\"calico-node\"}},\"spec\":{\"containers\":[{\"env\":[{\"name\":\"ETCD_ENDPOINTS\",\"valueFrom\":{\"configMapKeyRef\":{\"key\":\"etcd_endpoints\",\"name\":\"calico-config\"}}},{\"name\":\"CALICO_NETWORKING_BACKEND\",\"valueFrom\":{\"configMapKeyRef\":{\"key\":\"calico_backend\",\"name\":\"calico-config\"}}},{\"name\":\"CLUSTER_TYPE\",\"value\":\"kubeadm,bgp\"},{\"name\":\"CALICO_DISABLE_FILE_LOGGING\",\"value\":\"true\"},{\"name\":\"CALICO_K8S_NODE_REF\",\"valueFrom\":{\"fieldRef\":{\"fieldPath\":\"spec.nodeName\"}}},{\"name\":\"FELIX_DEFAULTENDPOINTTOHOSTACTION\",\"value\":\"ACCEPT\"},{\"name\":\"CALICO_IPV4POOL_CIDR\",\"value\":\"192.168.0.0/16\"},{\"name\":\"CALICO_IPV4POOL_IPIP\",\"value\":\"Always\"},{\"name\":\"FELIX_IPV6SUPPORT\",\"value\":\"false\"},{\"name\":\"FELIX_IPINIPMTU\",\"value\":\"1440\"},{\"name\":\"FELIX_LOGSEVERITYSCREEN\",\"value\":\"info\"},{\"name\":\"IP\",\"value\":\"autodetect\"},{\"name\":\"FELIX_HEALTHENABLED\",\"value\":\"true\"}],\"image\":\"quay.io/calico/node:master\",\"livenessProbe\":{\"failureThreshold\":6,\"httpGet\":{\"path\":\"/liveness\",\"port\":9099},\"initialDelaySeconds\":10,\"periodSeconds\":10},\"name\":\"calico-node\",\"readinessProbe\":{\"httpGet\":{\"path\":\"/readiness\",\"port\":9099},\"periodSeconds\":10},\"resources\":{\"requests\":{\"cpu\":\"250m\"}},\"securityContext\":{\"privileged\":true},\"volumeMounts\":[{\"mountPath\":\"/lib/modules\",\"name\":\"lib-modules\",\"readOnly\":true},{\"mountPath\":\"/var/run/calico\",\"name\":\"var-run-calico\",\"readOnly\":false}]},{\"command\":[\"/install-cni.sh\"],\"env\":[{\"name\":\"CNI_CONF_NAME\",\"value\":\"10-calico.conflist\"},{\"name\":\"ETCD_ENDPOINTS\",\"valueFrom\":{\"configMapKeyRef\":{\"key\":\"etcd_endpoints\",\"name\":\"calico-config\"}}},{\"name\":\"CNI_NETWORK_CONFIG\",\"valueFrom\":{\"configMapKeyRef\":{\"key\":\"cni_network_config\",\"name\":\"calico-config\"}}}],\"image\":\"quay.io/calico/cni:master\",\"name\":\"install-cni\",\"volumeMounts\":[{\"mountPath\":\"/host/opt/cni/bin\",\"name\":\"cni-bin-dir\"},{\"mountPath\":\"/host/etc/cni/net.d\",\"name\":\"cni-net-dir\"}]}],\"hostNetwork\":true,\"serviceAccountName\":\"calico-cni-plugin\",\"terminationGracePeriodSeconds\":0,\"tolerations\":[{\"effect\":\"NoSchedule\",\"operator\":\"Exists\"},{\"key\":\"CriticalAddonsOnly\",\"operator\":\"Exists\"},{\"effect\":\"NoExecute\",\"operator\":\"Exists\"}],\"volumes\":[{\"hostPath\":{\"path\":\"/lib/modules\"},\"name\":\"lib-modules\"},{\"hostPath\":{\"path\":\"/var/run/calico\"},\"name\":\"var-run-calico\"},{\"hostPath\":{\"path\":\"/opt/cni/bin\"},\"name\":\"cni-bin-dir\"},{\"hostPath\":{\"path\":\"/etc/cni/net.d\"},\"name\":\"cni-net-dir\"}]}},\"updateStrategy\":{\"rollingUpdate\":{\"maxUnavailable\":1},\"type\":\"RollingUpdate\"}}}\n"},"creationTimestamp":"2018-01-29T15:13:57Z","labels":{"controller-revision-hash":"2359423632","k8s-app":"calico-node"},"name":"calico-node-679f867b76","namespace":"kube-system","ownerReferences":[{"apiVersion":"extensions/v1beta1","blockOwnerDeletion":true,"controller":true,"kind":"DaemonSet","name":"calico-node","uid":"fe37a302-0506-11e8-a482-029aea4b951c"}],"resourceVersion":"319","selfLink":"/apis/apps/v1/namespaces/kube-system/controllerrevisions/calico-node-679f867b76","uid":"06cc6a6c-0507-11e8-a482-029aea4b951c"},"revision":1}